<template>
  <div
    class="slds-grid slds-grid_align-center slds-grid_vertical-align-center slds-p-around_medium"
  >
    <div class="slds-card" style="width: 30rem">
      <div class="slds-card__body slds-card__body_inner">
        <div class="slds-p-around_medium">
          <lightning-input
            label="First Name"
            value={firstName}
            onchange={handleInput}
            name="firstName"
            required
          ></lightning-input>
          <lightning-input
            label="Last Name"
            value={lastName}
            onchange={handleInput}
            name="lastName"
            required
          ></lightning-input>
          <lightning-input
            label="Email"
            type="email"
            value={email}
            onchange={handleInput}
            name="email"
            required
          ></lightning-input>

          <div class="slds-m-top_large">
            <lightning-button
              label="Check for an existing Company"
              onclick={findContactMatch}
              class="slds-m-right_medium"
              disabled={isCompanyCheckDisabled}
            ></lightning-button>
          </div>

          <template if:true={matchedAccount}>
            <p><strong>Matched Account:</strong> {matchedAccount}</p>
          </template>

          <template if:true={showNewAccountField}>
            <div class="slds-m-top_medium">
              <p>
                We did not find an existing company using your email. Please
                enter a new company below.
              </p>
            </div>
            <div class="slds-m-top_medium">
              <lightning-input
                label="New Company Name"
                value={newAccountName}
                onchange={handleInput}
                name="newAccountName"
                required
              ></lightning-input>
            </div>
          </template>

          <div class="slds-m-top_large">
            <lightning-button
              variant="brand"
              label="Sign Up"
              onclick={handleSubmit}
              disabled={isSignUpDisabled}
            ></lightning-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
