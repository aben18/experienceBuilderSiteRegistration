<template>
  <div class="slds-p-around_medium">
    <lightning-input
      label="First Name"
      value={firstName}
      onchange={handleInput}
      name="firstName"
      required
    ></lightning-input>
    <lightning-input
      label="Last Name"
      value={lastName}
      onchange={handleInput}
      name="lastName"
      required
    ></lightning-input>
    <lightning-input
      label="Email"
      type="email"
      value={email}
      onchange={handleInput}
      name="email"
      required
    ></lightning-input>

    <div class="slds-grid slds-m-top_large slds-align-center">
      <lightning-button
        label="Check for an existing Company"
        onclick={findContactMatch}
        class="slds-m-right_medium"
      ></lightning-button>

      <template if:true={matchedAccount}>
        <p class="slds-align-middle">
          <strong>Matched Account:</strong> {matchedAccount}
        </p>
      </template>
      <template if:true={showNewAccountField}>
        <p class="slds-align-middle">
          <strong>We did not find an existing company for your email. Please enter a new company below.</strong>
        </p>
      </template>
    </div>

    <template if:true={showNewAccountField}>
      <div class="slds-m-top_medium">
        <lightning-input
          label="New Company Name"
          value={newAccountName}
          onchange={handleInput}
          name="newAccountName"
          required
        ></lightning-input>
      </div>
    </template>

    <div class="slds-m-top_large">
      <lightning-button
        variant="brand"
        label="Sign Up"
        onclick={handleSubmit}
      ></lightning-button>
    </div>
  </div>
</template>
